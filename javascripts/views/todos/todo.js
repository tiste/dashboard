(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,o=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t};App.Views.Todo=function(e){function i(){return this.render=t(this.render,this),this.toggleDone=t(this.toggleDone,this),this.updateOnEnter=t(this.updateOnEnter,this),this.edit=t(this.edit,this),this.clear=t(this.clear,this),i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.template=JST["templates/todos/todo"],i.prototype.className="m-todo--item",i.prototype.tagName="li",i.prototype.initialize=function(){return this.model.on("change",this.render,this),this.model.on("destroy",this.render,this)},i.prototype.events={"blur .m-todo--edit":"update","click .m-todo--destroy":"clear","click .m-todo--done":"toggleDone","click .m-todo--show":"edit","keypress .m-todo--edit":"updateOnEnter"},i.prototype.clear=function(){return this.model.destroy()},i.prototype.edit=function(){return $(this.el).addClass("editing"),this.$(".m-todo--edit").focus()},i.prototype.update=_.debounce(function(){var t;return t=this.$(".m-todo--edit").val(),t?(this.model.save({title:t}),$(this.el).removeClass("editing")):this.clear()},200),i.prototype.updateOnEnter=function(t){return 13===t.keyCode?(t.preventDefault(),this.update()):void 0},i.prototype.toggleDone=function(){return this.model.toggleDone()},i.prototype.render=function(){return $(this.el).html(this.template(this.model.toJSON())),$(this.el).toggleClass("done",this.model.get("done")),this},i}(Backbone.View)}).call(this);