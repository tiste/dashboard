(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,r=function(t,r){function n(){this.constructor=t}for(var o in r)e.call(r,o)&&(t[o]=r[o]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};App.Views.WeathersIndex=function(e){function n(){return this.render=t(this.render,this),this.refetch=t(this.refetch,this),n.__super__.constructor.apply(this,arguments)}return r(n,e),n.prototype.template=JST["templates/weathers/index"],n.prototype.events={"blur .m-weather--city":"refetch","submit .m-weather form":"refetch"},n.prototype.initialize=function(){return this.collection.on("reset",this.render,this)},n.prototype.refetch=function(t){var e,r;return t.preventDefault(),r=new App.Collections.Weathers,e=this.$(".m-weather--city").val()||"Paris",r.fetch({data:{q:e,units:"metric",lang:"fr"},dataType:"jsonp",success:function(t){return function(){return t.collection=r,t.render()}}(this)})},n.prototype.render=function(){return $(this.el).html(this.template({weathers:this.collection.toJSON()})),this},n}(Backbone.View)}).call(this);